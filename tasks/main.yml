---

- name: MAIN | Windows uninstall tasks imported
  ansible.builtin.import_tasks: windows-uninstall.yml
  when:
    - uninstall
    - ansible_os_family == "Windows"

- name: MAIN | Windows install tasks imported
  ansible.builtin.import_tasks: windows-install.yml
  tags: install
  when:
    - not uninstall
    - ansible_os_family == "Windows"

- name: MAIN | Linux install tasks imported
  become: true
  ansible.builtin.import_tasks: linux-install.yml
  tags: install
  when:
    - not uninstall
    - ansible_os_family != "Windows"

- name: MAIN | Flush handlers
  meta: flush_handlers

- name: MAIN | Configure tasks imported
  ansible.builtin.import_tasks: configure.yml
  tags: configure
  when: not uninstall
